function magnyfying(e){const t=e.parent.querySelector(".swiper-slide-active");if(!t)throw new Error("Slide wasn't found");const o=t.querySelector(e.targetSelector);let s,n;if(t.querySelector(".glass")?(s=t.querySelector(".glass"),n=t.querySelector(".glassIcon")):((s=document.createElement("DIV")).setAttribute("class","glass"),s.style.left=e.startPosition.left+"px",s.style.bottom=e.startPosition.bottom+"px",(n=new Image).classList.add("glassIcon"),n.src=e.glass.glassImageSrc,s.append(n),a(),t.append(s)),!s)throw new Error("Glass isn't exist");const r=s.offsetWidth/2,l=s.offsetHeight/2;function i(t){if(t.preventDefault(),!s||!n)throw new Error("Glass isn't exist");n.style.opacity="0";const i=o.getBoundingClientRect().width,c=o.getBoundingClientRect().height;s.style.backgroundImage="url('"+o.src+"')",s.style.backgroundRepeat="no-repeat",s.style.backgroundSize=i*e.zoom+"px "+c*e.zoom+"px";let g=function(e){const t=o.getBoundingClientRect();let s=e.pageX-t.left,n=e.pageY-t.top;return s-=window.pageXOffset,n-=window.pageYOffset,{x:s,y:n}}(t),u=g.x,d=g.y;u>i-r/e.zoom&&(u=i-r/e.zoom,a()),u<r/e.zoom&&(u=r/e.zoom,a()),d>c-l/e.zoom&&(d=c-l/e.zoom,a()),d<l/e.zoom&&(d=l/e.zoom,a()),s.style.left=u-r+"px",s.style.top=d-l+"px",s.style.backgroundPosition="-"+(u*e.zoom-r)+"px -"+(d*e.zoom-l)+"px"}function a(){if(!s||!n)throw new Error("Glass isn't exist");n.style.opacity="1",s.style.backgroundSize="inherit",s.style.backgroundColor=e.glass.backgroundColor}n.addEventListener("mousemove",i),o.addEventListener("mousemove",i)}